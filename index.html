<!DOCTYPE html>
<html>
<head>
<title>
Netlify Trial
</title>
<script>
function createGameBoard()
{
var chessPieces = ["R", "N", "B", "Q", "K", "B", "N", "R"],
pieceSide = 60;
boardStr = "<table id='GameSquare'>";
for (var i=0; i<8; i++) {
   boardStr += "<tr>";
   for (var j=0; j<8; j++) {
      if ((i+j)%2) boardStr += "<td bgcolor=#08A7B3";
      else boardStr += "<td bgcolor=#F8F7E3";
      //boardStr +=" onClick='squareClick(event/*,j.toString()*/)'>";
      //boardStr +=" onClick='squareClick(event,j)'>";
      boardStr +=" onClick='squareClick(event)'>";
      
      if ((i<2)||(i>5)) {
         if (i==1) boardStr += "<img src='./Pieces/Black/P.png'";
         else if (i==6) boardStr += "<img src='./Pieces/White/P.png'";
         else if (i==0) boardStr += "<img src='./Pieces/Black/";
         else if (i==7) boardStr += "<img src='./Pieces/White/";
         
         if ((i==0)||(i==7)) {
            boardStr += chessPieces[j] + ".png' alt='White king'";
         }
         
         boardStr += " height=" + pieceSide.toString() + " width=" + pieceSide.toString() + ">";
         boardStr += "</td>";
         continue;
      } else {
         boardStr += "<img src='./Pieces/Empty.png'";
         boardStr += " height=" + pieceSide.toString() + " width=" + pieceSide.toString() + ">";
         boardStr += "</td>";
      }
   }
   boardStr += "</tr>";
}
boardStr += "</table>";
document.getElementById("GameBoard").innerHTML = boardStr;
}


function squareClick(event/*,col*/)
{
   var element = event.target;//document.getElementById('GameBoard');
var topPos = element.getBoundingClientRect().top + window.scrollY;
var leftPos = element.getBoundingClientRect().left + window.scrollX;
   
   var displayString = 'W:' + event.which + ' B:' + event.button;
   //var displayString2 = displayString + ' X:' + event.clientX + ' Y:' + event.clientY + ' T:' + topPos + ' L:' + leftPos;
   displayString += ' X:' + event.clientX + ' Y:' + event.clientY;
   
   var displayString3 = displayString + ' LLT: ' + document.getElementById("GameBoard").getBoundingClientRect().left;
   displayString3 += ' RRT: ' + document.getElementById("GameBoard").getBoundingClientRect().right;
   displayString3 += ' LLT2: ' + document.getElementById("GameSquare").getBoundingClientRect().left;
   displayString3 += ' RRT2: ' + document.getElementById("GameSquare").getBoundingClientRect().right;
   
   displayString += ' BL: ' + document.getElementById("GameSquare").getBoundingClientRect().left;
   displayString += ' RR: ' + document.getElementById("GameSquare").getBoundingClientRect().right;
   displayString += ' BT: ' + document.getElementById("GameSquare").getBoundingClientRect().top;
   displayString += ' BB: ' + document.getElementById("GameSquare").getBoundingClientRect().bottom;
   
document.getElementById("ClickPanel").innerHTML = displayString;// + displayString2 + displayString3;
   //'W:' + event.which + ' B:' + event.button + ' X:' + event.clientX + ' Y:' + event.clientY + ' T:' + topPos + ' L:' + leftPos;// + ' C:' + col;
   /*function clickHandler(event) {
      document.getElementById("ClickPanel").innerHTML = "Hihu";
   }
   return clickHandler;*/
}
</script>
</head>
<body>
<center>
<br/>
<p id="ClickPanel"></p>
<p id="GameBoard"></p>
<script>
createGameBoard();
</script>
</center>
</body>
</html>
